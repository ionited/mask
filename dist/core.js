(()=>{"use strict";!function(){function t(t,i){var s;this.inputFunc=this.input.bind(this),this.formatFunc=this.format.bind(this,!0),this.el=t,this.options=i,this.data={cursorPosition:null!==(s=t.selectionStart)&&void 0!==s?s:t.value.length,delete:!1,focus:!1,input:"",inputRaw:"",output:""},this.init()}t.prototype.init=function(){this.el.addEventListener("input",this.inputFunc),this.el.addEventListener("paste",this.inputFunc),this.el.addEventListener("focus",this.formatFunc),this.data.input=this.el.value,this.options.init&&this.options.init(this.data),this.format()},t.prototype.destroy=function(){this.el.removeEventListener("input",this.inputFunc),this.el.removeEventListener("paste",this.inputFunc),this.el.removeEventListener("focus",this.formatFunc)},t.prototype.beforeInput=function(){var t,i=this.data.cursorPosition=null!==(t=this.el.selectionStart)&&void 0!==t?t:0;this.options.beforeInput&&this.options.beforeInput(this.data),this.data.cursorPosition!=i&&this.setCursorPosition(this.data.cursorPosition)},t.prototype.input=function(t){var i;this.data.delete="deleteContentBackward"===t.inputType||"deleteContentForward"===t.inputType,this.beforeInput(),this.data.inputRaw=this.data.input=t.target.value;var s=this.data.cursorPosition=null!==(i=this.el.selectionStart)&&void 0!==i?i:0;this.options.input&&this.options.input(this.data),this.data.cursorPosition!=s&&this.setCursorPosition(this.data.cursorPosition),this.format()},t.prototype.format=function(t){void 0===t&&(t=!1),this.data.focus=t,this.options.format(this.data),this.el.value=this.data.output,this.setCursorPosition(this.data.cursorPosition,t?25:void 0)},t.prototype.setCursorPosition=function(t,i){var s=this;void 0===i&&(i=0),i?setTimeout((function(){return s.el.setSelectionRange(t,t)}),i):this.el.setSelectionRange(t,t)}}()})();